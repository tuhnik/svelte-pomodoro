var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let $;function h(t){$=t}const b=[],v=[],k=[],x=[],w=Promise.resolve();let y=!1;function _(t){k.push(t)}let S=!1;const q=new Set;function E(){if(!S){S=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];h(e),B(e.$$)}for(b.length=0;v.length;)v.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];q.has(e)||(q.add(e),e())}k.length=0}while(b.length);for(;x.length;)x.pop()();y=!1,S=!1,q.clear()}}function B(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const C=new Set;function T(t,e){t&&t.i&&(C.delete(t),t.i(e))}function A(t,e,n,s){if(t&&t.o){if(C.has(t))return;C.add(t),(void 0).c.push(()=>{C.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function O(t){t&&t.c()}function j(t,n,r){const{fragment:i,on_mount:c,on_destroy:u,after_update:l}=t.$$;i&&i.m(n,r),_(()=>{const n=c.map(e).filter(o);u?u.push(...n):s(n),t.$$.on_mount=[]}),l.forEach(_)}function D(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function I(t,e){-1===t.$$.dirty[0]&&(b.push(t),y||(y=!0,w.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(e,o,r,i,c,u,a=[-1]){const f=$;h(e);const d=o.props||{},p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a};let g=!1;if(p.ctx=r?r(e,d,(t,n,...s)=>{const o=s.length?s[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),g&&I(e,t)),n}):[],p.update(),g=!0,s(p.before_update),p.fragment=!!i&&i(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();o.intro&&T(e.$$.fragment),j(e,o.target,o.anchor),E()}h(f)}class L{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function M(e){let n;return{c(){n=a("h1"),n.textContent="Pomodoro clock",g(n,"class","svelte-1sxbazu")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&l(n)}}}class P extends L{constructor(t){super(),N(this,t,null,M,r,{})}}const z=[];function F(e,n=t){let s;const o=[];function i(t){if(r(e,t)&&(e=t,s)){const t=!z.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),z.push(n,e)}if(t){for(let t=0;t<z.length;t+=2)z[t][0](z[t+1]);z.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,c=t){const u=[r,c];return o.push(u),1===o.length&&(s=n(i)||t),r(e),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}const G=F(5),H=F(25),J=F(!1),K=F(1500),Q=F("session");function R(e){let n,o,r,i,$,h,b,v,k,x,w,y,_,S,q,E,B,C,T,A,O,j;return{c(){n=a("div"),o=a("div"),r=a("div"),r.textContent="Break length",i=d(),$=a("i"),h=d(),b=a("div"),v=f(e[0]),k=d(),x=a("i"),w=d(),y=a("div"),_=a("div"),_.textContent="Session length",S=d(),q=a("i"),E=d(),B=a("div"),C=f(e[1]),T=d(),A=a("i"),g(r,"id","break-label"),g($,"class","fa fa-arrow-up svelte-6ikt6q"),g($,"id","break-increment"),g(b,"class","counter"),g(b,"id","break-length"),g(x,"class","fa fa-arrow-down svelte-6ikt6q"),g(x,"id","break-decrement"),g(o,"class","break svelte-6ikt6q"),g(_,"id","session-label"),g(q,"class","fa fa-arrow-up svelte-6ikt6q"),g(q,"id","session-increment"),g(B,"class","counter"),g(B,"id","session-length"),g(A,"class","fa fa-arrow-down svelte-6ikt6q"),g(A,"id","session-decrement"),g(y,"class","session svelte-6ikt6q"),g(n,"class","settings svelte-6ikt6q")},m(t,s){u(t,n,s),c(n,o),c(o,r),c(o,i),c(o,$),c(o,h),c(o,b),c(b,v),c(o,k),c(o,x),c(n,w),c(n,y),c(y,_),c(y,S),c(y,q),c(y,E),c(y,B),c(B,C),c(y,T),c(y,A),O||(j=[p($,"click",e[2]),p(x,"click",e[3]),p(q,"click",e[4]),p(A,"click",e[5])],O=!0)},p(t,[e]){1&e&&m(v,t[0]),2&e&&m(C,t[1])},i:t,o:t,d(t){t&&l(n),O=!1,s(j)}}}function U(t,e,n){let s,o,r,c;i(t,G,t=>n(0,s=t)),i(t,J,t=>n(6,o=t)),i(t,Q,t=>n(7,r=t)),i(t,H,t=>n(1,c=t));return[s,c,()=>{s>=60||(G.update(t=>t+1),o||"break"!==r||K.update(t=>60*s))},()=>{s<=1||(G.update(t=>t-1),o||"break"!==r||K.update(t=>60*s))},()=>{console.log("clickin session up"),c>60||(H.update(t=>t+1),o||"session"!==r||K.update(t=>60*c))},()=>{console.log("clickin session down"),c<=1||(H.update(t=>t-1),o||"session"!==r||K.update(t=>60*c))}]}class V extends L{constructor(t){super(),N(this,t,U,R,r,{})}}function W(e){let n,s;return{c(){n=a("audio"),g(n,"id","beep"),n.src!==(s="./assets/BeepSound.wav")&&g(n,"src","./assets/BeepSound.wav"),g(n,"preload","auto")},m(t,s){u(t,n,s),e[0](n)},p:t,i:t,o:t,d(t){t&&l(n),e[0](null)}}}let X;function Y(t,e,n){return[function(t){v[t?"unshift":"push"](()=>{X=t})}]}class Z extends L{constructor(t){super(),N(this,t,Y,W,r,{})}}var tt=t=>{if(3600===t)return"60:00";if(0===t)return"00:00";const e=new Date(0);return e.setSeconds(t),e.toISOString().substr(14,5)};function et(e){let n,s,o,r,i,p,$="session"===e[1]?"Session":"Break",h=tt(e[0])+"";return{c(){n=a("div"),s=a("div"),o=f($),r=d(),i=a("h2"),p=f(h),g(s,"id","timer-label"),g(i,"id","time-left")},m(t,e){u(t,n,e),c(n,s),c(s,o),c(n,r),c(n,i),c(i,p)},p(t,[e]){2&e&&$!==($="session"===t[1]?"Session":"Break")&&m(o,$),1&e&&h!==(h=tt(t[0])+"")&&m(p,h)},i:t,o:t,d(t){t&&l(n)}}}function nt(t,e,n){let s,o,r,c,u;i(t,J,t=>n(2,s=t)),i(t,K,t=>n(0,o=t)),i(t,Q,t=>n(1,r=t)),i(t,G,t=>n(3,c=t)),i(t,H,t=>n(4,u=t));var l=console.log;function a(){s&&(K.update(t=>t-1),0===o&&("session"===r?Q.update(t=>"break"):Q.update(t=>"session")),o<0&&("session"===r?K.update(t=>60*c):K.update(t=>60*u),X.play()))}return console.log=function(t,...e){if("string"==typeof t){const n=new Date;e.unshift(n.getMinutes()+":"+n.getSeconds()+" "+t)}else e.unshift(t),e.unshift(new Date+" %j");l.apply(this,e)},J.subscribe(t=>{console.log("ticking: "+t),t?document.pomodoroTimer=setInterval(a,1e3):clearInterval(document.pomodoroTimer)}),[o,r]}class st extends L{constructor(t){super(),N(this,t,nt,et,r,{})}}function ot(e){let n,o,r,i,$,h,b,v=e[0]?"pause":"start";return{c(){n=a("div"),o=a("button"),r=f(v),i=d(),$=a("button"),$.textContent="reset",g(o,"id","start_stop"),g($,"id","reset")},m(t,s){u(t,n,s),c(n,o),c(o,r),c(n,i),c(n,$),h||(b=[p(o,"click",e[1]),p($,"click",e[2])],h=!0)},p(t,[e]){1&e&&v!==(v=t[0]?"pause":"start")&&m(r,v)},i:t,o:t,d(t){t&&l(n),h=!1,s(b)}}}function rt(t,e,n){let s;i(t,J,t=>n(0,s=t));return[s,()=>{J.update(t=>!t)},()=>{console.log("clicked reset"),K.set(1500),Q.set("session"),G.set(5),H.set(25),J.set(!1),X.pause(),X.currentTime=0,console.log("resetted"),setTimeout(()=>{},1)}]}class it extends L{constructor(t){super(),N(this,t,rt,ot,r,{})}}function ct(e){let n,s,o,r,i,f,p,m,$,h,b;return s=new P({}),r=new V({}),f=new st({}),m=new it({}),h=new Z({}),{c(){n=a("main"),O(s.$$.fragment),o=d(),O(r.$$.fragment),i=d(),O(f.$$.fragment),p=d(),O(m.$$.fragment),$=d(),O(h.$$.fragment),g(n,"class","svelte-177t831")},m(t,e){u(t,n,e),j(s,n,null),c(n,o),j(r,n,null),c(n,i),j(f,n,null),c(n,p),j(m,n,null),c(n,$),j(h,n,null),b=!0},p:t,i(t){b||(T(s.$$.fragment,t),T(r.$$.fragment,t),T(f.$$.fragment,t),T(m.$$.fragment,t),T(h.$$.fragment,t),b=!0)},o(t){A(s.$$.fragment,t),A(r.$$.fragment,t),A(f.$$.fragment,t),A(m.$$.fragment,t),A(h.$$.fragment,t),b=!1},d(t){t&&l(n),D(s),D(r),D(f),D(m),D(h)}}}return new class extends L{constructor(t){super(),N(this,t,null,ct,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
